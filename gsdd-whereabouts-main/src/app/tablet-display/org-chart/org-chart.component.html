<p-toast></p-toast>
<div class="flex">
  <div class="w-full">
    <div id="org-chart">
      <div class="flex flex-col h-screen w-full">
        <!-- IT Officer III -->
        <div id="it-3" class="m-2 flex pt-5 justify-center">
          <div id="avatar" class="flex flex-col items-center gap-2">
            <div class="card justify-content-center flex flex-col text-xs">
              <app-user-button
                [user]="{
                  first_name: 'First Name',
                  last_name: 'Last Name',
                  position: 'IT Officer III',
                  initials: 'VC',
                  status: getStatus('First Name', 'Last Name'),
                  borderColor: isTimeIn('First Name', 'Last Name')
                    ? 'border-red-400'
                    : 'border-gray-500'
                }"
                [statusData]="statusData"
              ></app-user-button>
            </div>
          </div>
        </div>

        <!-- Administrative Aide -->
        <div id="admin-aide" class="m-2 flex">
          <div class="w-1/2"></div>
          <div class="w-1/2">
            <div class="w-full">
              <div class="w-2/2 flex">
                <div class="w-1/2 flex items-center">
                  <div class="border-b border-black border-dashed w-full"></div>
                </div>
                <div class="w-1/2 p-2">
                  <div>Administrative Aide VI</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Lower Org Chart -->
        <div id="lower-org-chart" class="m-2 flex justify-center">
          <div id="1" class="flex w-full gap-5 flex-col items-center">
            <div id="fatima-santos">
              <app-user-button
                [user]="{
                  first_name: 'Fatima',
                  last_name: 'Santos',
                  position: 'IT Officer II',
                  initials: 'FS',
                  status: getStatus('Fatima', 'Santos'),
                  borderColor: isTimeIn('Fatima', 'Santos')
                    ? 'border-green-400'
                    : 'border-gray-500'
                }"
              ></app-user-button>
            </div>
            <!-- Other employees... -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Legend -->
  <div id="legend" class="m-2 flex w-1/6 flex-col">
    <div class="pt-20 text-xl font-semibold">
      <p>Geospatial Systems Development Division</p>
    </div>
    <!-- Summary Section -->
    <div id="summary" class="mt-10 flex flex-col gap-2">
      <div class="rounded-lg border border-black bg-white p-2 shadow-lg">
        <p class="text-xs font-normal">In Office</p>
        <p class="text-md font-semibold">Not configured</p>
      </div>
      <button
        (click)="csFlowShow()"
        class="rounded-lg border border-black bg-white px-4 py-2 text-xs shadow-lg hover:bg-gray-200"
      >
        <p class="text-lg font-bold">Client Service Flow</p>
      </button>
      <p-dialog [(visible)]="csFlow">
        <ng-template pTemplate="headless">
          <div class="flex-column flex gap-4 px-8 py-5">
            <img
              src="assets/org-chart/client_service_flow.JPG"
              width="1600"
              alt="Client Service Flow"
            />
          </div>
        </ng-template>
      </p-dialog>
    </div>
    <!-- Legend -->
    <div class="flex h-full flex-col justify-end pt-20 text-xl font-semibold">
      <div class="m-1 flex gap-1 text-xs">
        <div class="flex items-center">
          <div class="h-3 w-3 border-black bg-green-400"></div>
        </div>
        <p>System Research & Analysis Section</p>
      </div>
    </div>
  </div>
</div>
