<app-sidebar></app-sidebar>

<div class="flex">
  <div class="mt-20 w-full md:sm:ml-64">
    <!-- Page Title -->
    <div class="ml-5 text-xs font-semibold sm:text-sm lg:text-xl">
      <p>Rules</p>
    </div>

    <!-- Currently Configured Time Window -->
    <div class="ml-10 mb-5 text-sm font-medium text-gray-600">
      {{ selectedTimeRule && selectedTimeRule.time
        ? 'Configured login window: ' + selectedTimeRule.time
        : 'Not configured' }}
    </div>

    <!-- Rule Card -->
    <div class="ml-10 w-72 rounded-lg border border-black bg-white shadow-lg md:w-96 lg:w-2/6">
      <div class="m-5 flex flex-col gap-5">
        <!-- Login Time Dropdown -->
        <div class="text-sm font-semibold md:text-lg">
          <p>Log in time:</p>
          <div class="card">
            <p-dropdown
              [options]="timeRule"
              [(ngModel)]="selectedTimeRule"
              optionLabel="time"
              [showClear]="true"
              placeholder="Select Login Window"
            ></p-dropdown>
          </div>
        </div>

        <!-- Pause Tracking Dropdown -->
        <div class="text-sm font-semibold md:text-lg">
          <p>Pause tracking:</p>
          <div class="card">
            <p-dropdown
              [options]="pauseTracking"
              [(ngModel)]="selectedPauseTracking"
              optionLabel="label"
              [showClear]="true"
              placeholder="Select condition"
            ></p-dropdown>
          </div>
        </div>
      </div>

      <!-- Confirm Button -->
      <div class="mb-5 mr-5 flex justify-end">
        <button
          (click)="confirm()"
          [disabled]="!selectedTimeRule || selectedPauseTracking === null"
          class="rounded-lg bg-gray-700 p-2 text-xs text-white transition hover:bg-gray-950 sm:text-sm md:text-lg"
        >
          Confirm
        </button>
      </div>
    </div>
  </div>
</div>
